🏙️ COMPREHENSIVE URBAN EXPANSION IMPACT ANALYSIS: UZBEKISTAN (2016-2025)
================================================================================
Enhanced Multi-City Analysis with Server-Side Processing
================================================================================
🔑 Initializing Google Earth Engine...
✅ Google Earth Engine initialized successfully!

📡 Phase 1: Collecting urban expansion data for all 14 cities...
🏙️ ANALYZING URBAN EXPANSION IMPACTS (2018-2025)
================================================================================

📡 Collecting urban expansion indicators...

🔍 Analyzing 2016...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 36/36 valid samples
   ✅ Qarshi: 50/50 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 45/45 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 50/50 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2016: 681 samples

🔍 Analyzing 2017...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 37/37 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 50/50 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2017: 687 samples

🔍 Analyzing 2018...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 44/44 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 39/39 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 50/50 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2018: 683 samples

🔍 Analyzing 2019...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 50/50 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 45/45 valid samples
   ✅ Jizzakh: 37/37 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2019: 682 samples

🔍 Analyzing 2020...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 50/50 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 50/50 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 44/44 valid samples
   📊 Total 2020: 694 samples

🔍 Analyzing 2021...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 43/43 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 45/45 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 50/50 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2021: 688 samples

🔍 Analyzing 2022...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 45/45 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 50/50 valid samples
   ✅ Kokand: 43/43 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 45/45 valid samples
   ✅ Jizzakh: 50/50 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2022: 683 samples

🔍 Analyzing 2023...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 50/50 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 50/50 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2023: 700 samples

🔍 Analyzing 2024...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 50/50 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 50/50 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 45/45 valid samples
   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2024: 695 samples

🔍 Analyzing 2025...
   ✅ Enhanced vegetation indices calculated
   ✅ VIIRS nighttime lights processed
   ✅ UHI intensity calculated (simplified)
   ✅ Green connectivity calculated
   ✅ Impervious surface calculated
   ✅ Tashkent: 50/50 valid samples
   ✅ Samarkand: 50/50 valid samples
   ✅ Namangan: 46/46 valid samples
   ✅ Andijan: 50/50 valid samples
   ✅ Nukus: 50/50 valid samples
   ✅ Bukhara: 50/50 valid samples
   ✅ Qarshi: 50/50 valid samples
   ✅ Kokand: 50/50 valid samples
   ✅ Margilan: 50/50 valid samples
   ✅ Urgench: 50/50 valid samples
   ✅ Fergana: 50/50 valid samples
   ✅ Jizzakh: 50/50 valid samplesTraceback (most recent call last):
  File "/Users/timursabitov/Downloads/alphaearth-uzbekistan-starter/urban_expansion_impact_analysis.py", line 992, in main
    viz_path = create_expansion_impact_visualizations(impacts_df, regional_impacts)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/timursabitov/Downloads/alphaearth-uzbekistan-starter/urban_expansion_impact_analysis.py", line 775, in create_expansion_impact_visualizations
    • Day Temp: {regional_impacts['temp_day_change_mean']:+.2f}°C
                 ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'temp_day_change_mean'

   ✅ Sirdaryo: 50/50 valid samples
   ✅ Termez: 50/50 valid samples
   📊 Total 2025: 696 samples

📊 Phase 2: Calculating comprehensive expansion impacts...

📊 CALCULATING YEAR-TO-YEAR URBAN EXPANSION IMPACTS...
   📅 Available periods: period_2016, period_2017, period_2018, period_2019, period_2020, period_2021, period_2022, period_2023, period_2024, period_2025
   🔄 Calculating changes: period_2016 → period_2017
   🔄 Calculating changes: period_2017 → period_2018
   🔄 Calculating changes: period_2018 → period_2019
   🔄 Calculating changes: period_2019 → period_2020
   🔄 Calculating changes: period_2020 → period_2021
   🔄 Calculating changes: period_2021 → period_2022
   🔄 Calculating changes: period_2022 → period_2023
   🔄 Calculating changes: period_2023 → period_2024
   🔄 Calculating changes: period_2024 → period_2025
   ✅ Calculated 10-year trends for 14 cities
   📊 Analysis periods: 10 × 2-year windows
   🔄 Year-to-year comparisons: 9 period transitions

📈 Phase 3: Creating comprehensive impact visualizations...

📊 Creating expansion impact visualizations...
❌ Error in comprehensive expansion impact analysis: 'temp_day_change_mean'
